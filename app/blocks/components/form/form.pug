include ../input/input.pug

mixin incut-form(data)
  .incut-form-wrapper(data-form=`${data.form}`)
    form.incut-form.invalid(data-validate-form="" data-form-body="" data-show-thanks)
      span.error-text.error-text--backend(data-error-text="backend")
      .incut-form__fields
        +input({
          temp: "name",
          label: 'Ваше имя *',
        })
        +input({
          temp: "phone",
          mask: true,
        })&attributes(attributes)(data-mask-tel)
        +input({
          temp: "email",
        })
        if(data.organization)
          +input({
            temp: "organization",
          })
        .inputholder.form__inputholder
          label.inputholder__label(data-default-label) Расскажите о проекте
          textarea.inputholder__textarea(data-form-field)(data-textarea)
        if(data.file)
          .fileupload(name-nameinput="file")(data-acceptedfiles="image/*")(data-minfiles="1")(data-maxfiles="1")(data-fileupload)
            .fileupload__button(data-fileupload-button)
              span Прикрепить файл
        span.incut-form__policy Отправляя данную форму, я соглашаюсь на
          a(href="/policy.html")(target="_blank")  обработку персональных данных
      .buttonholder.button-wrapper(data-form-trigger="")
        button.button.button--text-white.form-incut__submit(disabled="true" data-form-button="")
          span Отправить
    .form__thanks(data-form-thanks="")
      p.form__thanks-title=data.thanksTitle
      p.form-thanks-text=data.thanksText
